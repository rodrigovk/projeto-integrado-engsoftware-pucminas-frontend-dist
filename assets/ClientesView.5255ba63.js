import{a6 as S,r as C,g as V,j as n,m as f,u as e,G as o,D as k,k as v,q as s,E as x,n as l,K as m,M as p,N as y,a2 as B,a3 as $,o as j,y as b,a8 as I,a9 as D}from"./index.038c8212.js";import{_ as q}from"./SpinLoading.5aa2b1d3.js";import{_ as z}from"./BaseModal.2aa0cada.js";import{_ as N}from"./Tag.6d28a408.js";import{_ as w}from"./SpinLoading.3f6d8973.js";const F={class:"block p-6 mb-3 rounded-lg shadow-lg bg-white"},G={class:"flex flex-row items-center text-gray-900 text-xl leading-tight font-medium break-words mb-2"},K=o(" Ativo "),O=o(" Inativo "),T={class:"text-gray-700 text-base break-words mb-4"},H={class:"flex flex-wrap gap-2"},J=o(" Visualizar "),P={class:"flex items-center"},Q=o(" Ativar "),U={class:"flex items-center"},W=o(" Inativar "),X={class:"flex items-center"},Y=o(" Excluir "),Z=e("h2",{class:"text-2xl mb-1"},"Exclus\xE3o do cliente",-1),ee={class:"mb-4"},te=o(" Confirma a exclus\xE3o do cliente "),se=o("? "),le={class:"mt-4"},oe=o(" Excluir "),ne=o(" N\xE3o "),ie={__name:"Cliente",props:{cliente:{type:Object,required:!0}},emits:["removerCliente"],setup(i,{emit:a}){const c=i,u=S(),_=C(!1),d=C(!1),h=C(null),r=()=>{h.value=!h.value},A=()=>{_.value=!0,u.putClienteSituacao(c.cliente.idCliente,1).then(t=>c.cliente.situacao=1).catch(t=>$({group:"error",title:t.message||t})).finally(()=>_.value=!1)},E=()=>{d.value=!0,u.putClienteSituacao(c.cliente.idCliente,0).then(t=>c.cliente.situacao=0).catch(t=>$({group:"error",title:t.message||t})).finally(()=>d.value=!1)},g=C(!1),L=()=>{g.value=!0,u.deleteCliente(c.cliente.idCliente).then(t=>a("removerCliente",c.cliente.idCliente)).catch(t=>$({group:"error",title:t.message||t})).finally(()=>{g.value=!1,r.value&&(r.value=!1)})};return(t,ve)=>{const M=V("RouterLink"),R=z;return n(),f(B,null,[e("div",F,[e("h5",G,[o(k(i.cliente.nome)+" ",1),i.cliente.situacao===1?(n(),v(N,{key:0,customColor:"green",class:"ml-2"},{default:s(()=>[K]),_:1})):x("",!0),i.cliente.situacao===0?(n(),v(N,{key:1,customColor:"orange",class:"ml-2"},{default:s(()=>[O]),_:1})):x("",!0)]),e("p",T,k(i.cliente.usuario.email),1),e("div",H,[l(M,{to:{name:"cliente",params:{id:i.cliente.idCliente}},class:"card-footer-item"},{default:s(()=>[l(m,null,{default:s(()=>[J]),_:1})]),_:1},8,["to"]),i.cliente.situacao===0?(n(),v(m,{key:0,customColor:"green",onClick:A},{default:s(()=>[e("div",P,[p(l(w,{class:"mr-3"},null,512),[[y,_.value]]),Q])]),_:1})):x("",!0),i.cliente.situacao===1?(n(),v(m,{key:1,customColor:"orange",onClick:E},{default:s(()=>[e("div",U,[p(l(w,{class:"mr-3"},null,512),[[y,d.value]]),W])]),_:1})):x("",!0),l(m,{customColor:"red",onClick:r,class:"sm:ml-auto"},{default:s(()=>[e("div",X,[p(l(w,{class:"mr-3"},null,512),[[y,g.value]]),Y])]),_:1})])]),l(R,{modalActive:h.value,closeButtonVisible:!1,onCloseModal:r},{default:s(()=>[e("div",null,[Z,e("p",ee,[te,e("b",null,k(i.cliente.nome),1),se])]),e("div",le,[l(m,{onClick:L,customColor:"red",class:"mr-2"},{default:s(()=>[oe]),_:1}),l(m,{onClick:r},{default:s(()=>[ne]),_:1})])]),_:1},8,["modalActive"])],64)}}},ae={class:"flex flex-col h-full"},ce={class:"p-6"},re=e("div",{class:"flex items-center text-2xl font-semibold"}," Clientes ",-1),de={key:0,class:"flex-1 flex flex-row justify-center items-center"},ue={class:"flex items-center"},_e=e("p",{class:"text-xl text-teal-600"}," Carregando... ",-1),me=o(" Criar cliente "),fe={class:"flex flex-col justify-center mt-6"},he={key:0,class:"text-xl px-6"},ye={__name:"ClientesView",setup(i){const a=S();j(()=>{a.init()});function c(u){const _=a.clientes.findIndex(d=>d.idCliente===u);a.clientes.splice(_,1)}return(u,_)=>{const d=D,h=V("RouterLink");return n(),f("div",ae,[e("div",ce,[re,b(a).clientesLoaded?(n(),f(B,{key:1},[l(h,{to:{name:"cliente_novo"}},{default:s(()=>[l(d,{class:"mt-2"},{default:s(()=>[me]),_:1})]),_:1}),e("div",fe,[(n(!0),f(B,null,I(b(a).clientes,r=>(n(),v(ie,{key:r.idCliente,cliente:r,onRemoverCliente:c},null,8,["cliente"]))),128))]),b(a).clientes.length?x("",!0):(n(),f("div",he," N\xE3o h\xE1 nenhum cliente. "))],64)):(n(),f("div",de,[e("div",ue,[l(q,{height:8,width:8,color:"text-teal-600",class:"mr-3"}),_e])]))])])}}};export{ye as default};

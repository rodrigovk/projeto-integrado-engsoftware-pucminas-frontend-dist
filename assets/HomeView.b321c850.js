import{_ as N}from"./SpinLoading.9cbb0707.js";import{d as H,C as q,s as T,r as I,w as B,o as U,a as P,t as f,h as M,B as K,i as L,p as z,b as F,c as G,e as $,f as J,L as Q,_ as V,g as A,j as p,k as W,l as X,m as D,n as d,q as k,u as c,v as Y,x as Z,y as j,z as ee,A as te,D as b,E as ae,F as x,G as se,T as R}from"./index.565e4036.js";var _;(function(a){a.ChartRendered="chart:rendered",a.ChartUpdated="chart:updated",a.ChartDestroyed="chart:destroyed",a.LabelsUpdated="labels:updated"})(_||(_={}));function w(a,l,n,t){a(l,n),t!==void 0&&t.emit(_.ChartRendered)}function ne(a,l){a.update(),l!==void 0&&l.emit(_.ChartUpdated)}function O(a,l){a.destroy(),l!==void 0&&l.emit(_.ChartDestroyed)}function le(a,l){const n={labels:typeof a.labels>"u"?[]:[...a.labels],datasets:[]};return E(n,{...a},l),n}function E(a,l,n){const t=[];a.datasets=l.datasets.map(s=>{const e=a.datasets.find(o=>o[n]===s[n]);return!e||!s.data||t.includes(e)?{...s}:(t.push(e),Object.assign(e,s),e)})}function re(a,l,n){a.data.labels=l,n!==void 0&&n.emit(_.LabelsUpdated)}function oe(a,l){a.options={...l}}function ce(a,l){const n=a.datasets.map(s=>s.label),t=l.datasets.map(s=>s.label);return l.datasets.length===a.datasets.length&&n.every((s,e)=>s===t[e])}const ie="Please remove the <template></template> tags from your chart component. See https://vue-chartjs.org/guide/#vue-single-file-components",de="Update ERROR: chart instance not found",ue=(a,l,n)=>H({props:{chartData:{type:Object,required:!0},chartOptions:{type:Object,default:()=>{}},datasetIdKey:{type:String,default:"label"},chartId:{type:String,default:a},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{type:String,default:""},styles:{type:Object,default:()=>{}},plugins:{type:Array,default:()=>[]}},setup(t,s){q.register(n);const e=T(null),o=I(null);function i(r,u){if(e.value!==null&&O(f(e.value),s),o.value===null)throw new Error(ie);{const g=le(r,t.datasetIdKey),C=o.value.getContext("2d");C!==null&&(e.value=new q(C,{type:l,data:L(r)?new Proxy(g,{}):g,options:u,plugins:t.plugins}))}}function v(r,u){const g=L(r)?f(r):{...r},C=L(u)?f(u):{...u};if(Object.keys(C).length>0){const m=f(e.value);ce(g,C)&&m!==null?(E(m==null?void 0:m.data,g,t.datasetIdKey),g.labels!==void 0&&re(m,g.labels,s),h()):(m!==null&&O(m,s),w(i,t.chartData,t.chartOptions,s))}else e.value!==null&&O(f(e.value),s),w(i,t.chartData,t.chartOptions,s)}function y(r){const u=f(e.value);u!==null?(oe(u,r),h()):w(i,t.chartData,t.chartOptions,s)}function h(){const r=f(e.value);r!==null?ne(r,s):console.error(de)}return B(()=>t.chartData,(r,u)=>v(r,u),{deep:!0}),B(()=>t.chartOptions,r=>y(r),{deep:!0}),U(()=>{"datasets"in t.chartData&&t.chartData.datasets.length>0&&w(i,t.chartData,t.chartOptions,s)}),P(()=>{e.value!==null&&O(f(e.value),s)}),s.expose({chart:e,updateChart:h}),()=>M("div",{style:t.styles,class:t.cssClasses},[M("canvas",{id:t.chartId,width:t.width,height:t.height,ref:o})])}}),he=ue("bar-chart","bar",K);q.register(z,F,G,$,J,Q);const fe={name:"HomeChart",components:{Bar:he},props:{chartId:{type:String,default:"bar-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>{}},plugins:{type:Object,default:()=>{}},chartData:{type:Object,default:()=>{}}},data(){return{chartOptions:{responsive:!0,layout:{padding:{left:0,right:0,top:30,bottom:0}},scales:{xAxis:{display:!0,grid:{display:!1}},yAxis:{display:!1,grid:{display:!1},ticks:{precision:0}}},plugins:{tooltip:{enabled:!1},legend:{display:!1},datalabels:{anchor:"end",align:"top"}}}}}};function ge(a,l,n,t,s,e){const o=A("Bar");return p(),W(o,{"chart-options":s.chartOptions,"chart-data":n.chartData,"chart-id":n.chartId,"dataset-id-key":n.datasetIdKey,plugins:n.plugins,"css-classes":n.cssClasses,styles:n.styles,width:n.width,height:n.height},null,8,["chart-options","chart-data","chart-id","dataset-id-key","plugins","css-classes","styles","width","height"])}const me=V(fe,[["render",ge]]),be={class:"mx-0 my-0 p-2"},pe={class:"text-xl font-medium leading-9 tracking-tight"},S={__name:"HomeInfo",props:{to:{type:Object,required:!0},customColor:{type:String,default:"slate"}},emits:["closeMenu"],setup(a,{emit:l}){const n=a,t=()=>{l("closeMenu")},s=X(()=>({amber:"bg-amber-500 hover:bg-amber-600 focus:bg-amber-600 active:bg-amber-700",blue:"bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 active:bg-blue-700",green:"bg-green-500 hover:bg-green-600 focus:bg-green-600 active:bg-green-700",orange:"bg-orange-500 hover:bg-orange-600 focus:bg-orange-600 active:bg-orange-700",red:"bg-red-500 hover:bg-red-600 focus:bg-red-600 active:bg-red-700",teal:"bg-teal-500 hover:bg-teal-600 focus:bg-teal-600 active:bg-teal-700",slate:"bg-slate-500 hover:bg-slate-600 focus:bg-slate-600 active:bg-slate-700"})[n.customColor]);return(e,o)=>{const i=A("RouterLink");return p(),D("div",{class:Z(["block mb-3 rounded-lg shadow-lg text-slate-100",[j(s)]])},[d(i,{to:a.to,onClick:t},{default:k(()=>[c("div",be,[c("h3",pe,[Y(e.$slots,"default")])])]),_:3},8,["to"])],2)}}},_e={key:0,class:"h-full flex flex-row justify-center items-center"},ve={class:"flex items-center"},ye=c("p",{class:"text-xl text-teal-600"}," Carregando... ",-1),Ce={key:1,class:""},De={class:"mx-auto max-w-screen-xl px-4 py-4 sm:px-6 sm:py-6 flex flex-col"},ke={class:"text-2xl font-extrabold leading-9 tracking-tight mb-4"},xe={key:0},we={class:"flex items-center"},Oe={class:"flex items-center"},Se={class:"flex items-center"},Le={key:1},qe={class:"flex items-center"},Ie={class:"mt-4"},je=c("h2",{class:"text-xl font-extrabold mb-4"},"Tickets de suporte respondidos por dia",-1),Ue={__name:"HomeView",emits:["closeMenu"],setup(a,{emit:l}){const n=ee(),t=te(),s=I(!0),e=I({}),o={labels:[],datasets:[{label:"Tickets respondidos",backgroundColor:"#0ea5e9",data:[]}]};U(()=>{t.getDashInfo().then(v=>{e.value=v.data;const y=e.value.tickets.quantidadePorData;o.labels=y.map(h=>new Date(h.data).getUTCDate()),o.datasets[0].data=y.map(h=>h.count),s.value=!1})});const i=()=>{l("closeMenu")};return(v,y)=>{const h=N;return s.value?(p(),D("div",_e,[c("div",ve,[d(h,{height:8,width:8,color:"text-teal-600",class:"mr-3"}),ye])])):(p(),D("div",Ce,[c("div",De,[c("h2",ke," Ol\xE1, "+b(j(n).user.nome)+". ",1),j(n).user.idAdministrador?(p(),D("div",xe,[d(S,{to:{name:"assinaturas"},onCloseMenu:i,customColor:e.value.assinaturas.quantidade>0?"amber":"teal"},{default:k(()=>[c("div",we,[d(ae,{class:"w-10 h-10 fill-slate-100 mr-2"}),x(" "+b(e.value.assinaturas.quantidade)+" assinaturas aguardam gera\xE7\xE3o da mensalidade ",1)])]),_:1},8,["customColor"]),d(S,{to:{name:"contas"},onCloseMenu:i,customColor:e.value.contas.quantidade>0?"amber":"teal"},{default:k(()=>[c("div",Oe,[d(se,{class:"w-10 h-10 fill-slate-100 mr-2"}),x(" "+b(e.value.contas.quantidade)+" contas a receber vencidas ("+b(v.vueNumberFormat(e.value.contas.valor,{}))+") ",1)])]),_:1},8,["customColor"]),d(S,{to:{name:"tickets"},onCloseMenu:i,customColor:e.value.tickets.quantidade>0?"amber":"teal"},{default:k(()=>[c("div",Se,[d(R,{class:"w-10 h-10 fill-slate-100 mr-2"}),x(" "+b(e.value.tickets.quantidade)+" tickets de suporte aguardam resposta ",1)])]),_:1},8,["customColor"])])):(p(),D("div",Le,[d(S,{to:{name:"tickets"},onCloseMenu:i},{default:k(()=>[c("div",qe,[d(R,{class:"w-10 h-10 fill-slate-100 mr-2"}),x(" "+b(e.value.tickets.quantidade)+" tickets de suporte foram respondidos ",1)])]),_:1})])),c("div",Ie,[je,d(me,{chartData:o,height:100})])])]))}}};export{Ue as default};

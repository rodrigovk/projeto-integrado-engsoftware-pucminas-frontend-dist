import{l as w,m as E,o as x,d as _,a as t,t as m,h as e,n as v,p as u,v as p,f as V,q as C,i,w as b,u as $,s as q,x as B,j as N}from"./index.2bb8e1f7.js";import{u as T,c as k,a as S,F as A}from"./object.811c646a.js";import{_ as I}from"./SpinLoading.5c34def2.js";const M=["for"],F=["name","id","type","value","placeholder"],y=w({__name:"TextInput",props:{type:{type:String,default:"text"},value:{type:String,default:""},name:{type:String,required:!0},label:{type:String,required:!0},successMessage:{type:String,default:""},placeholder:{type:String,default:""}},setup(n){const d=n,a=E(d,"name"),{value:f,errorMessage:s,handleBlur:r,handleChange:l,meta:c}=T(a,void 0,{initialValue:d.value});return(g,o)=>(x(),_("div",{class:v(["flex flex-col",{"has-error":!!e(s),success:e(c).valid}])},[t("label",{for:e(a)},m(n.label),9,M),t("input",{name:e(a),id:e(a),type:n.type,value:e(f),placeholder:n.placeholder,onInput:o[0]||(o[0]=(...h)=>e(l)&&e(l)(...h)),onBlur:o[1]||(o[1]=(...h)=>e(r)&&e(r)(...h)),class:v(["rounded-md border-2 border-transparent outline-none transition duration-300 ease-in-out focus:outline-none focus:ring-0 placeholder:italic",{"bg-slate-200 focus:border-teal-500":!e(s),"bg-red-200 focus:border-red-500 text-red-700 placeholder:text-red-500":!!e(s)}])},null,42,F),u(t("p",{class:"text-red-500"},m(e(s)),513),[[p,e(s)]]),u(t("p",{class:"text-green-500"},m(n.successMessage),513),[[p,e(c).valid]])],2))}}),z={class:"flex flex-col items-center content-center align-middle place-content-center h-screen bg-slate-600 text-gray-700"},D={class:"bg-slate-50 p-6 md:p-8 drop-shadow-md"},G={class:"flex flex-row items-center content-between text-gray-500 mb-8"},O=["src"],R=t("div",{class:"flex flex-col items-center"},[t("div",{class:"text-5xl md:text-6xl leading-none font-normal md:tracking-wide"}," Global Soft "),t("div",{class:"text-md md:text-xl font-light leading-tight"}," SISTEMAS E CONSULTORIA ")],-1),j={class:""},L={class:"flex"},U={class:"flex items-center"},H=N(" Entrando... "),J={key:0,class:"text-red-700 mt-3 mb-0"},W={__name:"AuthView",setup(n){const d=k().shape({username:S().required("E-mail n\xE3o informado"),password:S().required("Senha n\xE3o informada")});let a=V(!1);function f(s,{setErrors:r}){a.value=!0;const l=$(),{username:c,password:g}=s;return l.login(c,g).catch(o=>r({apiError:o})).finally(()=>a.value=!1)}return(s,r)=>(x(),_("div",z,[t("div",D,[t("div",G,[t("img",{class:"w-16 h-16 md:w-20 md:h-20 mr-4 drop-shadow-sm",src:e(C),alt:"my-logo"},null,8,O),R]),i(e(A),{onSubmit:f,"validation-schema":e(d)},{default:b(({errors:l})=>[i(y,{name:"username",type:"email",label:"E-mail",placeholder:"Endere\xE7o de e-mail",class:"mb-2"}),i(y,{name:"password",type:"password",label:"Senha",placeholder:"Senha",class:"mb-4"}),t("div",j,[i(q,{disabled:e(a),customTextSize:"md"},{default:b(()=>[u(t("div",L,[t("div",U,[i(I,{class:"mr-2"}),H])],512),[[p,e(a)]]),u(t("div",null," Entrar ",512),[[p,!e(a)]])]),_:1},8,["disabled"])]),l.apiError?(x(),_("div",J,m(l.apiError),1)):B("",!0)]),_:1},8,["validation-schema"])])]))}};export{W as default};

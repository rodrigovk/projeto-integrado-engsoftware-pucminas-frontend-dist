import{a6 as N,r as C,g as S,j as n,m as f,u as e,G as o,D as k,k as v,q as s,E as x,n as l,K as m,M as p,N as y,a2 as w,o as R,y as $,a8 as j,a9 as I}from"./index.78bbede8.js";import{_ as D}from"./SpinLoading.93eac245.js";import{_ as q}from"./BaseModal.62b779d6.js";import{_ as B}from"./Tag.b3b8a315.js";import{_ as b}from"./SpinLoading.75c19d37.js";const z={class:"block p-6 mb-3 rounded-lg shadow-lg bg-white"},F={class:"flex flex-row items-center text-gray-900 text-xl leading-tight font-medium break-words mb-2"},G=o(" Ativo "),K=o(" Inativo "),O={class:"text-gray-700 text-base break-words mb-4"},T={class:"flex flex-wrap gap-2"},H=o(" Visualizar "),J={class:"flex items-center"},P=o(" Ativar "),Q={class:"flex items-center"},U=o(" Inativar "),W={class:"flex items-center"},X=o(" Excluir "),Y=e("h2",{class:"text-2xl mb-1"},"Exclus\xE3o do cliente",-1),Z={class:"mb-4"},ee=o(" Confirma a exclus\xE3o do cliente "),te=o("? "),se={class:"mt-4"},le=o(" Excluir "),oe=o(" N\xE3o "),ne={__name:"Cliente",props:{cliente:{type:Object,required:!0}},emits:["removerCliente"],setup(i,{emit:a}){const c=i,u=N(),_=C(!1),d=C(!1),h=C(null),r=()=>{h.value=!h.value},V=()=>{_.value=!0,u.putClienteSituacao(c.cliente.idCliente,1).then(t=>c.cliente.situacao=1).catch(t=>notify({group:"error",title:t.message||t})).finally(()=>_.value=!1)},A=()=>{d.value=!0,u.putClienteSituacao(c.cliente.idCliente,0).then(t=>c.cliente.situacao=0).catch(t=>notify({group:"error",title:t.message||t})).finally(()=>d.value=!1)},g=C(!1),E=()=>{g.value=!0,u.deleteCliente(c.cliente.idCliente).then(t=>a("removerCliente",c.cliente.idCliente)).catch(t=>notify({group:"error",title:t.message||t})).finally(()=>{g.value=!1,r.value&&(r.value=!1)})};return(t,he)=>{const L=S("RouterLink"),M=q;return n(),f(w,null,[e("div",z,[e("h5",F,[o(k(i.cliente.nome)+" ",1),i.cliente.situacao===1?(n(),v(B,{key:0,customColor:"green",class:"ml-2"},{default:s(()=>[G]),_:1})):x("",!0),i.cliente.situacao===0?(n(),v(B,{key:1,customColor:"orange",class:"ml-2"},{default:s(()=>[K]),_:1})):x("",!0)]),e("p",O,k(i.cliente.usuario.email),1),e("div",T,[l(L,{to:{name:"cliente",params:{id:i.cliente.idCliente}},class:"card-footer-item"},{default:s(()=>[l(m,null,{default:s(()=>[H]),_:1})]),_:1},8,["to"]),i.cliente.situacao===0?(n(),v(m,{key:0,customColor:"green",onClick:V},{default:s(()=>[e("div",J,[p(l(b,{class:"mr-3"},null,512),[[y,_.value]]),P])]),_:1})):x("",!0),i.cliente.situacao===1?(n(),v(m,{key:1,customColor:"orange",onClick:A},{default:s(()=>[e("div",Q,[p(l(b,{class:"mr-3"},null,512),[[y,d.value]]),U])]),_:1})):x("",!0),l(m,{customColor:"red",onClick:r,class:"sm:ml-auto"},{default:s(()=>[e("div",W,[p(l(b,{class:"mr-3"},null,512),[[y,g.value]]),X])]),_:1})])]),l(M,{modalActive:h.value,closeButtonVisible:!1,onCloseModal:r},{default:s(()=>[e("div",null,[Y,e("p",Z,[ee,e("b",null,k(i.cliente.nome),1),te])]),e("div",se,[l(m,{onClick:E,customColor:"red",class:"mr-2"},{default:s(()=>[le]),_:1}),l(m,{onClick:r},{default:s(()=>[oe]),_:1})])]),_:1},8,["modalActive"])],64)}}},ie={class:"flex flex-col h-full"},ae={class:"p-6"},ce=e("div",{class:"flex items-center text-2xl font-semibold"}," Clientes ",-1),re={key:0,class:"flex-1 flex flex-row justify-center items-center"},de={class:"flex items-center"},ue=e("p",{class:"text-xl text-teal-600"}," Carregando... ",-1),_e=o(" Criar cliente "),me={class:"flex flex-col justify-center mt-6"},fe={key:0,class:"text-xl px-6"},pe={__name:"ClientesView",setup(i){const a=N();R(()=>{a.init()});function c(u){const _=a.clientes.findIndex(d=>d.idCliente===u);a.clientes.splice(_,1)}return(u,_)=>{const d=I,h=S("RouterLink");return n(),f("div",ie,[e("div",ae,[ce,$(a).clientesLoaded?(n(),f(w,{key:1},[l(h,{to:{name:"cliente_novo"}},{default:s(()=>[l(d,{class:"mt-2"},{default:s(()=>[_e]),_:1})]),_:1}),e("div",me,[(n(!0),f(w,null,j($(a).clientes,r=>(n(),v(ne,{key:r.idCliente,cliente:r,onRemoverCliente:c},null,8,["cliente"]))),128))]),$(a).clientes.length?x("",!0):(n(),f("div",fe," N\xE3o h\xE1 nenhum cliente. "))],64)):(n(),f("div",re,[e("div",de,[l(D,{height:8,width:8,color:"text-teal-600",class:"mr-3"}),ue])]))])])}}};export{pe as default};

import{h as w,i as E,o as _,c as g,a as t,t as u,e,n as v,w as m,v as p,r as V,l as C,f as i,j as b,u as $,_ as k,k as B,m as N}from"./index.7e36d01e.js";import{u as T,c as q,a as S,F as A}from"./object.fa4ec820.js";import{_ as I}from"./SpinLoading.4f55b4a7.js";const M=["for"],F=["name","id","type","value","placeholder"],y=w({__name:"TextInput",props:{type:{type:String,default:"text"},value:{type:String,default:""},name:{type:String,required:!0},label:{type:String,required:!0},successMessage:{type:String,default:""},placeholder:{type:String,default:""}},setup(n){const d=n,a=E(d,"name"),{value:f,errorMessage:s,handleBlur:r,handleChange:l,meta:c}=T(a,void 0,{initialValue:d.value});return(x,o)=>(_(),g("div",{class:v(["flex flex-col",{"has-error":!!e(s),success:e(c).valid}])},[t("label",{for:e(a)},u(n.label),9,M),t("input",{name:e(a),id:e(a),type:n.type,value:e(f),placeholder:n.placeholder,onInput:o[0]||(o[0]=(...h)=>e(l)&&e(l)(...h)),onBlur:o[1]||(o[1]=(...h)=>e(r)&&e(r)(...h)),class:v(["rounded-md border-2 border-transparent outline-none transition duration-300 ease-in-out focus:outline-none focus:ring-0 placeholder:italic",{"bg-slate-200 focus:border-teal-500":!e(s),"bg-red-200 focus:border-red-500 text-red-700 placeholder:text-red-500":!!e(s)}])},null,42,F),m(t("p",{class:"text-red-500"},u(e(s)),513),[[p,e(s)]]),m(t("p",{class:"text-green-500"},u(n.successMessage),513),[[p,e(c).valid]])],2))}}),z={class:"flex flex-col items-center content-center align-middle place-content-center h-screen bg-slate-600 text-gray-700"},D={class:"bg-slate-50 p-8 drop-shadow-md"},G={class:"flex flex-row items-center content-between text-gray-500 mb-8"},O=["src"],R=t("div",{class:"flex flex-col items-center"},[t("div",{class:"text-6xl leading-none font-normal tracking-wide"}," Global Soft "),t("div",{class:"text-xl font-light leading-tight"}," SISTEMAS E CONSULTORIA ")],-1),j={class:""},L={class:"flex"},U={class:"flex items-center"},H=N(" Entrando... "),J={key:0,class:"text-red-700 mt-3 mb-0"},W={__name:"AuthView",setup(n){const d=q().shape({username:S().required("E-mail n\xE3o informado"),password:S().required("Senha n\xE3o informada")});let a=V(!1);function f(s,{setErrors:r}){a.value=!0;const l=$(),{username:c,password:x}=s;return l.login(c,x).catch(o=>r({apiError:o})).finally(()=>a.value=!1)}return(s,r)=>(_(),g("div",z,[t("div",D,[t("div",G,[t("img",{class:"w-20 h-20 mr-4 drop-shadow-sm",src:e(C),alt:"my-logo"},null,8,O),R]),i(e(A),{onSubmit:f,"validation-schema":e(d)},{default:b(({errors:l})=>[i(y,{name:"username",type:"email",label:"E-mail",placeholder:"Endere\xE7o de e-mail",class:"mb-2"}),i(y,{name:"password",type:"password",label:"Senha",placeholder:"Senha",class:"mb-4"}),t("div",j,[i(k,{disabled:e(a),customTextSize:"md"},{default:b(()=>[m(t("div",L,[t("div",U,[i(I,{class:"mr-2"}),H])],512),[[p,e(a)]]),m(t("div",null," Entrar ",512),[[p,!e(a)]])]),_:1},8,["disabled"])]),l.apiError?(_(),g("div",J,u(l.apiError),1)):B("",!0)]),_:1},8,["validation-schema"])])]))}};export{W as default};

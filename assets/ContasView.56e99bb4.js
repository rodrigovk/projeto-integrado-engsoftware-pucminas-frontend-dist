import{z as P,ad as F,r as C,l as B,a1 as j,j as e,m as c,u as t,F as d,D as v,k as $,q as i,N as y,y as m,K as w,M as S,n as r,J as k,a2 as x,a6 as L,o as T,a8 as M,V as N}from"./index.565e4036.js";import{_ as Y}from"./SelectInput.vue_vue_type_script_setup_true_lang.6b796206.js";import{_ as q}from"./SpinLoading.a71ee24f.js";import{_ as I}from"./BaseModal.ce45282d.js";import{_ as A}from"./Tag.92d9dc0e.js";import{_ as z}from"./SpinLoading.9cbb0707.js";import"./vee-validate.esm.94ff9ed5.js";const E={class:"block p-6 mb-3 rounded-lg shadow-lg bg-white"},J={class:"flex flex-row items-center text-gray-900 text-xl leading-tight font-medium break-words mb-2"},K=d(" Aberta "),O=d(" Paga "),G={class:"text-gray-700"},H={class:"text-base break-words"},Q={class:"text-base break-words mt-1"},R={class:"flex flex-wrap mt-2"},U={class:"flex items-center"},W=d(" Pagar "),X=t("h2",{class:"text-2xl mb-1"},"Pagamento da conta",-1),Z={class:"mb-4"},tt=d(" Confirma o pagamento desta conta de "),et=d("? "),at={class:"mt-4"},ot=d(" Pagar "),st=d(" N\xE3o "),nt={__name:"Conta",props:{conta:{type:Object,required:!0}},setup(n){const a=n,b=P(),f=F(),o=C(null),u=()=>{o.value=!o.value},h=C(!1),_=()=>{h.value=!0,f.encloseConta(a.conta.idConta).then(l=>{a.conta.situacao=1}).catch(l=>notify({group:"error",title:l.message||l})).finally(()=>{h.value=!1,o.value&&(o.value=!1)})},p=B(()=>j(a.conta.dataVencimento,"DD/MM/YYYY").value);return(l,V)=>{const s=I;return e(),c(x,null,[t("div",E,[t("h5",J,[d(v(n.conta.cliente.nome)+" ",1),n.conta.situacao===0?(e(),$(A,{key:0,customColor:"red",class:"ml-2"},{default:i(()=>[K]),_:1})):y("",!0),n.conta.situacao===1?(e(),$(A,{key:1,customColor:"green",class:"ml-2"},{default:i(()=>[O]),_:1})):y("",!0)]),t("div",G,[t("p",H," Valor: "+v(l.vueNumberFormat(n.conta.valor,{})),1),t("p",Q," Data vencimento: "+v(m(p)),1)]),w(t("div",R,[r(k,{customColor:"green",onClick:u},{default:i(()=>[t("div",U,[w(r(z,{class:"mr-3"},null,512),[[S,h.value]]),W])]),_:1})],512),[[S,m(b).user.isAdministrador&&n.conta.situacao===0]])]),r(s,{modalActive:o.value,closeButtonVisible:!1,onCloseModal:u},{default:i(()=>[t("div",null,[X,t("p",Z,[tt,t("b",null,v(n.conta.cliente.nome),1),et])]),t("div",at,[r(k,{onClick:_,customColor:"green",class:"mr-2"},{default:i(()=>[ot]),_:1}),r(k,{onClick:u},{default:i(()=>[st]),_:1})])]),_:1},8,["modalActive"])],64)}}},lt={class:"h-full"},ct={class:"flex flex-col sm:flex-row pt-6 pl-6 pr-6"},it=t("div",{class:"mr-4 text-2xl font-semibold"}," Contas ",-1),rt={class:"flex sm:ml-auto"},dt=t("option",{value:"todos"},"Todos",-1),ut=["value"],_t=t("option",{value:"todas"},"Todas",-1),mt=t("option",{value:"abertas"},"Abertas",-1),ft=t("option",{value:"pagas"},"Pagas",-1),ht={key:0,class:"h-full flex flex-row justify-center items-center"},gt={class:"flex items-center"},vt=t("p",{class:"text-xl text-teal-600"}," Carregando... ",-1),pt={class:"flex flex-col justify-center p-6"},xt={key:0,class:"text-xl px-6 py-6"},Dt={__name:"ContasView",emits:["closeMenu"],setup(n){const a=F(),b=L();function f(){a.getContas(p,_)}T(()=>{h(),f()});const o=C([]),u=C(!1);function h(){u.value=!1,b.getClientesSimples().then(s=>{o.value=s.data}).finally(u.value=!0)}let _=0,p=null;async function l(s){p=s.target.value==="todos"?null:s.target.value,N(()=>{f()})}async function V(s){switch(s.target.value){case"abertas":_=0;break;case"pagas":_=1;break;default:_=null}N(()=>{f()})}return(s,Ct)=>{const D=Y;return e(),c("div",lt,[t("div",ct,[it,t("div",rt,[w(r(D,{name:"idCliente",label:"Cliente",onChange:l,initialValue:"todos",class:"mb-2"},{default:i(()=>[dt,(e(!0),c(x,null,M(o.value,g=>(e(),c("option",{value:g.idCliente},v(g.nome),9,ut))),256))]),_:1},512),[[S,o.value.length>0]]),r(D,{disabled:!m(a).contasLoaded,name:"filtroSituacao",label:"Situa\xE7\xE3o",initialValue:"abertas",onChange:V,class:"ml-4"},{default:i(()=>[_t,mt,ft]),_:1},8,["disabled"])])]),m(a).contasLoaded?(e(),c(x,{key:1},[t("div",pt,[(e(!0),c(x,null,M(m(a).contas,g=>(e(),$(nt,{key:g.idConta,conta:g},null,8,["conta"]))),128))]),m(a).contas.length?y("",!0):(e(),c("div",xt," N\xE3o h\xE1 nenhum conta. "))],64)):(e(),c("div",ht,[t("div",gt,[r(q,{height:8,width:8,color:"text-teal-600",class:"mr-3"}),vt])]))])}}};export{Dt as default};

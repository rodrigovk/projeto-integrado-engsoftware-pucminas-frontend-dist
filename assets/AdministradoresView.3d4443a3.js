import{af as N,r as g,g as S,j as i,m as f,u as t,G as o,D as p,k as v,q as e,E as x,n as a,K as _,M as A,N as y,a2 as w,a3 as C,o as j,y as $,a8 as I,a9 as D}from"./index.038c8212.js";import{_ as q}from"./SpinLoading.5aa2b1d3.js";import{_ as z}from"./BaseModal.2aa0cada.js";import{_ as B}from"./Tag.6d28a408.js";import{_ as b}from"./SpinLoading.3f6d8973.js";const F={class:"block p-6 mb-3 rounded-lg shadow-lg bg-white"},G={class:"flex flex-row items-center text-gray-900 text-xl leading-tight font-medium break-words mb-2"},K=o(" Ativo "),O=o(" Inativo "),T={class:"text-gray-700 text-base break-words mb-4"},H={class:"flex flex-wrap gap-2"},J=o(" Visualizar "),P={class:"flex items-center"},Q=o(" Ativar "),U={class:"flex items-center"},W=o(" Inativar "),X={class:"flex items-center"},Y=o(" Excluir "),Z=t("h2",{class:"text-2xl mb-1"},"Exclus\xE3o do administrador",-1),tt={class:"mb-4"},st=o(" Confirma a exclus\xE3o do administrador "),et=o("? "),at={class:"mt-4"},ot=o(" Excluir "),it=o(" N\xE3o "),rt={__name:"Administrador",props:{administrador:{type:Object,required:!0}},emits:["removerAdministrador"],setup(r,{emit:n}){const d=r,m=N(),u=g(!1),c=g(!1),h=g(null),l=()=>{h.value=!h.value},V=()=>{u.value=!0,m.putAdministradorSituacao(d.administrador.idAdministrador,1).then(s=>d.administrador.situacao=1).catch(s=>C({group:"error",title:s.message||s})).finally(()=>u.value=!1)},E=()=>{c.value=!0,m.putAdministradorSituacao(d.administrador.idAdministrador,0).then(s=>d.administrador.situacao=0).catch(s=>C({group:"error",title:s.message||s})).finally(()=>c.value=!1)},k=g(!1),L=()=>{k.value=!0,m.deleteAdministrador(d.administrador.idAdministrador).then(s=>n("removerAdministrador",d.administrador.idAdministrador)).catch(s=>C({group:"error",title:s.message||s})).finally(()=>{k.value=!1,l.value&&(l.value=!1)})};return(s,vt)=>{const M=S("RouterLink"),R=z;return i(),f(w,null,[t("div",F,[t("h5",G,[o(p(r.administrador.nome)+" ",1),r.administrador.situacao===1?(i(),v(B,{key:0,customColor:"green",class:"ml-2"},{default:e(()=>[K]),_:1})):x("",!0),r.administrador.situacao===0?(i(),v(B,{key:1,customColor:"orange",class:"ml-2"},{default:e(()=>[O]),_:1})):x("",!0)]),t("p",T,p(r.administrador.usuario.email),1),t("div",H,[a(M,{to:{name:"administrador",params:{id:r.administrador.idAdministrador}},class:"card-footer-item"},{default:e(()=>[a(_,null,{default:e(()=>[J]),_:1})]),_:1},8,["to"]),r.administrador.situacao===0?(i(),v(_,{key:0,customColor:"green",onClick:V},{default:e(()=>[t("div",P,[A(a(b,{class:"mr-3"},null,512),[[y,u.value]]),Q])]),_:1})):x("",!0),r.administrador.situacao===1?(i(),v(_,{key:1,customColor:"orange",onClick:E},{default:e(()=>[t("div",U,[A(a(b,{class:"mr-3"},null,512),[[y,c.value]]),W])]),_:1})):x("",!0),a(_,{customColor:"red",onClick:l,class:"sm:ml-auto"},{default:e(()=>[t("div",X,[A(a(b,{class:"mr-3"},null,512),[[y,k.value]]),Y])]),_:1})])]),a(R,{modalActive:h.value,closeButtonVisible:!1,onCloseModal:l},{default:e(()=>[t("div",null,[Z,t("p",tt,[st,t("b",null,p(r.administrador.nome),1),et])]),t("div",at,[a(_,{onClick:L,customColor:"red",class:"mr-2"},{default:e(()=>[ot]),_:1}),a(_,{onClick:l},{default:e(()=>[it]),_:1})])]),_:1},8,["modalActive"])],64)}}},nt={class:"flex flex-col h-full"},dt={class:"p-6"},lt=t("div",{class:"text-2xl font-semibold"}," Administradores ",-1),ct={key:0,class:"flex-1 flex flex-row justify-center items-center"},mt={class:"flex items-center"},ut=t("p",{class:"text-xl text-teal-600"}," Carregando... ",-1),_t=o(" Criar administrador "),ft={class:"flex flex-col justify-center pt-6"},ht={key:0,class:"text-xl px-6"},yt={__name:"AdministradoresView",setup(r){const n=N();j(()=>{n.init()});function d(m){const u=n.administradores.findIndex(c=>c.idAdministrador===m);n.administradores.splice(u,1)}return(m,u)=>{const c=D,h=S("RouterLink");return i(),f("div",nt,[t("div",dt,[lt,$(n).administradoresLoaded?(i(),f(w,{key:1},[a(h,{to:{name:"administrador_novo"}},{default:e(()=>[a(c,{class:"mt-2"},{default:e(()=>[_t]),_:1})]),_:1}),t("div",ft,[(i(!0),f(w,null,I($(n).administradores,l=>(i(),v(rt,{key:l.idAdministrador,administrador:l,onRemoverAdministrador:d},null,8,["administrador"]))),128))]),$(n).administradores.length?x("",!0):(i(),f("div",ht," N\xE3o h\xE1 nenhum administrador. "))],64)):(i(),f("div",ct,[t("div",mt,[a(q,{height:8,width:8,color:"text-teal-600",class:"mr-3"}),ut])]))])])}}};export{yt as default};

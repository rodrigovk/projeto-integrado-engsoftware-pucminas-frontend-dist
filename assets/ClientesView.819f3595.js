import{a6 as N,r as C,g as S,j as n,m as f,u as e,G as o,D as k,k as v,q as s,E as x,n as l,K as m,M as p,N as y,a2 as w,o as R,y as b,a8 as j,a9 as I}from"./index.b6dffb01.js";import{_ as D}from"./SpinLoading.6f5c8766.js";import{_ as q}from"./BaseModal.1936567f.js";import{_ as B}from"./Tag.0a20cd98.js";import{_ as $}from"./SpinLoading.752f6a1f.js";const z={class:"block p-6 mb-3 rounded-lg shadow-lg bg-white"},F={class:"flex flex-row items-center text-gray-900 text-xl leading-tight font-medium break-words mb-2"},G=o(" Ativo "),K=o(" Inativo "),O={class:"text-gray-700 text-base break-words mb-4"},T={class:"flex"},H=o(" Visualizar "),J={class:"flex items-center"},P=o(" Ativar "),Q={class:"flex items-center"},U=o(" Inativar "),W={class:"flex items-center"},X=o(" Excluir "),Y=e("h2",{class:"text-2xl mb-1"},"Exclus\xE3o do cliente",-1),Z={class:"mb-4"},ee=o(" Confirma a exclus\xE3o do cliente "),te=o("? "),se={class:"mt-4"},le=o(" Excluir "),oe=o(" N\xE3o "),ne={__name:"Cliente",props:{cliente:{type:Object,required:!0}},emits:["removerCliente"],setup(i,{emit:a}){const c=i,d=N(),_=C(!1),u=C(!1),h=C(null),r=()=>{h.value=!h.value},V=()=>{_.value=!0,d.putClienteSituacao(c.cliente.idCliente,1).then(t=>c.cliente.situacao=1).catch(t=>notify({group:"error",title:t.message||t})).finally(()=>_.value=!1)},A=()=>{u.value=!0,d.putClienteSituacao(c.cliente.idCliente,0).then(t=>c.cliente.situacao=0).catch(t=>notify({group:"error",title:t.message||t})).finally(()=>u.value=!1)},g=C(!1),E=()=>{g.value=!0,d.deleteCliente(c.cliente.idCliente).then(t=>a("removerCliente",c.cliente.idCliente)).catch(t=>notify({group:"error",title:t.message||t})).finally(()=>{g.value=!1,r.value&&(r.value=!1)})};return(t,fe)=>{const L=S("RouterLink"),M=q;return n(),f(w,null,[e("div",z,[e("h5",F,[o(k(i.cliente.nome)+" ",1),i.cliente.situacao===1?(n(),v(B,{key:0,customColor:"green",class:"ml-2"},{default:s(()=>[G]),_:1})):x("",!0),i.cliente.situacao===0?(n(),v(B,{key:1,customColor:"orange",class:"ml-2"},{default:s(()=>[K]),_:1})):x("",!0)]),e("p",O,k(i.cliente.usuario.email),1),e("div",T,[l(L,{to:{name:"cliente",params:{id:i.cliente.idCliente}},class:"card-footer-item"},{default:s(()=>[l(m,{class:"mr-2"},{default:s(()=>[H]),_:1})]),_:1},8,["to"]),i.cliente.situacao===0?(n(),v(m,{key:0,customColor:"green",onClick:V,class:"mr-2"},{default:s(()=>[e("div",J,[p(l($,{class:"mr-3"},null,512),[[y,_.value]]),P])]),_:1})):x("",!0),i.cliente.situacao===1?(n(),v(m,{key:1,customColor:"orange",onClick:A,class:"mr-2"},{default:s(()=>[e("div",Q,[p(l($,{class:"mr-3"},null,512),[[y,u.value]]),U])]),_:1})):x("",!0),l(m,{customColor:"red",onClick:r,class:"ml-auto"},{default:s(()=>[e("div",W,[p(l($,{class:"mr-3"},null,512),[[y,g.value]]),X])]),_:1})])]),l(M,{modalActive:h.value,closeButtonVisible:!1,onCloseModal:r},{default:s(()=>[e("div",null,[Y,e("p",Z,[ee,e("b",null,k(i.cliente.nome),1),te])]),e("div",se,[l(m,{onClick:E,customColor:"red",class:"mr-2"},{default:s(()=>[le]),_:1}),l(m,{onClick:r},{default:s(()=>[oe]),_:1})])]),_:1},8,["modalActive"])],64)}}},ie={class:"flex flex-col h-full"},ae=e("div",{class:"flex items-center text-2xl font-semibold pt-6 pl-6"}," Clientes ",-1),ce={key:0,class:"flex-1 flex flex-row justify-center items-center"},re={class:"flex items-center"},ue=e("p",{class:"text-xl text-teal-600"}," Carregando... ",-1),de=o(" Criar cliente "),_e={class:"flex flex-col justify-center p-6"},me={key:0,class:"text-xl px-6"},ke={__name:"ClientesView",setup(i){const a=N();R(()=>{a.init()});function c(d){const _=a.clientes.findIndex(u=>u.idCliente===d);a.clientes.splice(_,1)}return(d,_)=>{const u=I,h=S("RouterLink");return n(),f("div",ie,[ae,b(a).clientesLoaded?(n(),f(w,{key:1},[l(h,{to:{name:"cliente_novo"}},{default:s(()=>[l(u,{class:"mt-2 ml-6"},{default:s(()=>[de]),_:1})]),_:1}),e("div",_e,[(n(!0),f(w,null,j(b(a).clientes,r=>(n(),v(ne,{key:r.idCliente,cliente:r,onRemoverCliente:c},null,8,["cliente"]))),128))]),b(a).clientes.length?x("",!0):(n(),f("div",me," N\xE3o h\xE1 nenhum cliente. "))],64)):(n(),f("div",ce,[e("div",re,[l(D,{height:8,width:8,color:"text-teal-600",class:"mr-3"}),ue])]))])}}};export{ke as default};
